# Very stripped-down test Makefile

GEN = $(CURDIR)/gen

#all: echogen sedquotes apisrc
all: sedquotes

#echogen:
#	 echo "echogen: GENERATED = $(GENERATED) CURDIR = $(CURDIR)"
#	 echo 'Shell arguments would be:'
#	 echo "s#{generated}#$(GENERATED)#"

sedquotes:
	echo 'sedquotes: trying hash-substitution'
	echo $(shell echo '{gen}' | sed -e "s#{gen}#$(GEN)#")

#apisrc:
#	 echo APISPECSRC = $(APISPECSRC)
#
#APISPEC = OpenCL_API
#APISPECSRC = $(APISPEC).txt $(GENDEPENDS) \
#    $(shell grep '^include::' $(APISPEC).txt | sed -e 's/^include:://' -e 's/\[\]/ /' -e "s#{generated}#$(GENERATED)#" | xargs echo)
